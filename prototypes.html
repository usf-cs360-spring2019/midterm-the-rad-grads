<!DOCTYPE html>
<html>

<!-- head -->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    .background path {
    fill: none;
    stroke: white;
    shape-rendering: geometricPrecision;
  }
  .foreground path {
    fill: none;
    shape-rendering: geometricPrecision;
  }

  .brush .extent {
    fill-opacity: .3;
    stroke: #fff;
    shape-rendering: crispEdges;
  }

  .axis line,
  .axis path {
    fill: none;
    stroke: white;
    shape-rendering: geometricPrecision;
  }

  .axis text {
    fill:white;
    cursor: move;
  }
  </style>
  <title>CS 360/560 Spring 2019</title>

  <!-- bulma 0.7.2 and font awesome v5.7.1 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css" integrity="sha256-2pUeJf+y0ltRPSbKOeJh09ipQFYxUdct5nTY6GAXswA=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
  <style>
  .hero.is-primary.is-bold{
      background: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url(https://storage.googleapis.com/kaggle-datasets-images/720/1344/64a17f2ce238d73491197ac7a71dab11/dataset-cover.JPG);
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
    }
    .hero.is-primary.is-bold .subtitle{
        font-weight: bolder;
      }
  </style>

</head>

<!-- body -->
<body>

  <!-- header -->
  <section class="hero is-primary is-bold">
    <!-- todo: change assignment and name -->
    <div class="hero-body">
      <div class="container">
        <h1 class="title">
          SF Fire Department service calls:Data analysis for the year 2018
        </h1>
        <h2 class="subtitle">
          The Rad Grads
        </h2>
      </div>
    </div>

    <!-- todo: change navigation as needed -->
    <div class="hero-foot">
      <div class="container">
        <nav class="navbar" role="navigation" aria-label="main navigation">

          <div class="navbar-brand">
            <a class="navbar-item" href="index.html">
              <span class="icon">
                <i class="fas fa-home"></i>
              </span>
              <span>Home</span>
            </a>
          </div>

          <div id="main-navbar" class="navbar-menu">
            <a class="navbar-item" href="dataprocessing.html">
              <span class="icon">
                <i class="fas fa-chart-area"></i>
              </span>
              <span>Data and Processing</span>
            </a>

            <a class="navbar-item" href="prototypes.html">
              <span class="icon">
                <i class="fas fa-chart-area"></i>
              </span>
              <span>Prototypes</span>
            </a>

            <a class="navbar-item" href="Visualizations/Tracy/vis.html">
              <span class="icon">
                <i class="fas fa-chart-area"></i>
              </span>
              <span>Tracy's Visualization</span>
            </a>

            <a class="navbar-item" href="Visualizations/Divya/vis.html">
              <span class="icon">
                <i class="fas fa-chart-area"></i>
              </span>
              <span>Divya's Visualization</span>
            </a>

            <a class="navbar-item" href="Visualizations/Roger/vis.html">
              <span class="icon">
                <i class="fas fa-chart-area"></i>
              </span>
              <span>Roger's Visualization</span>
            </a>


          </div>
          <div class="navbar-end">
            <a class="navbar-item" href="about.html">
              <span class="icon">
                <i class="fas fa-info-circle"></i>
              </span>
              <span>About the Team</span>
            </a>
          </div>

        </nav>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container content">
      <!-- todo: modify as necessary (or move visualizations to separate pages) -->
      <h2>Roger's Prototype</h2>
      <img src="after filiter.png" alt="visualization1" style="height:500px;width:100%"/>

      <h3>Interpretation</h3>
      <p>
        In this prototype, I want to show distribution of call type. Size is count of unit Id, and group by call type. Obviously, the medical incident occupied the most area in this pie chart,
        so I removed medical incident part to make the percentage of other call type clearly.
      </p>
    </div>
  </section>

  <section class="section">
    <div class="container content">
      <!-- todo: modify as necessary (or move visualizations to separate pages) -->
      <h2>Roger's Prototype</h2>
      <img src="without medical incident.png" alt="visualization1" style="height:450px;width:100%"/>

      <h3>Interpretation</h3>

      <p>
        Here is the call type distribution without medical incident, and now we can know alarm and structure fire have the most area which sounds like what should fire department should do.
      </p>
    </div>
  </section>

  <!-- separator between sections -->
  <hr class="container">
  <section class="section">
    <div class="container content">
      <!-- todo: modify as necessary (or move visualizations to separate pages) -->
      <h2>Divya's Prototypes</h2>
      <div class="visualization1">
        <div class ="viz">
          <div class='tableauPlaceholder' id='viz1551767806841' style='position: relative'>
         <noscript>
           <a href='#'>
             <img alt=' ' src='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Bo&#47;Book_SFFD&#47;Sheet3&#47;1_rss.png' style='border: none' />
           </a>
         </noscript>
         <object class='tableauViz' style='display:none;'>
           <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
           <param name='embed_code_version' value='3' />
           <param name='site_root' value='' />
           <param name='name' value='Book_SFFD&#47;Sheet3' />
           <param name='tabs' value='no' />
           <param name='toolbar' value='yes' />
           <param name='static_image' value='https:&#47;&#47;public.tableau.com&#47;static&#47;images&#47;Bo&#47;Book_SFFD&#47;Sheet3&#47;1.png' />
           <param name='animate_transition' value='yes' />
           <param name='display_static_image' value='yes' />
           <param name='display_spinner' value='yes' />
           <param name='display_overlay' value='yes' />
           <param name='display_count' value='yes' />
           <param name='filter' value='publish=yes' />
         </object>
        </div>
        <script type='text/javascript'>
         var divElement = document.getElementById('viz1551767806841');
         var vizElement = divElement.getElementsByTagName('object')[0];
         vizElement.style.width = '100%';
         vizElement.style.height = (divElement.offsetWidth * 0.55) + 'px';
         var scriptElement = document.createElement('script');
         scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
         vizElement.parentNode.insertBefore(scriptElement, vizElement);
         </script>
       </div>
     </div>
        <!--  <img src="Visualizations/Divya/Prototype_1.png" alt="visualization1" style="height:650px;width:80%"/>-->
          <h3>Interpretation</h3>
          <p>
              The graph shows the number of calls to SF fire department from different neighborhoods, categorised by CallTypeGroup.
              The call type groups are Alarm, Fire, Non life threatening, and Potentially life threatening. The grapg is color encoded with call for better understanding.
              For some records the categorization is not available. So it is characterised as Null.
          </p>
        </br>

         <img src="Visualizations/Divya/Prototype2.png" alt="visualization1" style="height:650px;width:80%"/>

       <h3>Interpretation</h3>
       <p>
           The above graph shows the Average response time in minutes, for emergency calls from the neighborhoods of San Francisco.
           It is color encoded in the increasing order of response time. The darker the color, more the response time.
       </p>
     </div>
    </div>
  </section>

  <!-- separator between sections -->
  <hr class="container">

  <section class="section">
    <div class="container content">
      <!-- todo: modify as necessary (or move visualizations to separate pages) -->
      <h2>Tracy's Prototypes</h2>
      <h3>Exploratory Visualization</h3>
      <img src="tracyproto.PNG" style="height:650px;width:80%"/>
      <p>
        <br>The purpose of this visualization was to see if the time of year had any effect on the distribution of call types. However as you can see, the data seems pretty unremarkable, so I moved onto more specific data.
      <br></p>
      <script src="https://d3js.org/d3.v5.min.js"></script>
      <script src="parCoor.js"></script>
      <script type="text/javascript">
        //load the dataset
        d3.tsv("tracyData.tsv").then(function(data){
           console.log("Data loaded:");
           draw(data);
         });
      </script>
      <h3>Parallel Coordinate Visualization</h3>
      <svg width="100%" height="400" style="background-color: #696969; border: 1px solid black;">
      </svg>

      <h3>Discussion</h3>

      <p>
        Because the distribution of call types seemed to be static throughout the year, I wanted to zoom-in and investigate parameters that could flucuate throughout the day. I chose to examine response time and hospital transport time. Response time was calculated by substracting the <b>Response time</b> and the <b>On-scene time</b>, and hospital transport time was calculated by subtracting the <b>Hospital arrival time</b> and the <b>Transport start time</b>. Obviously, because the data was so large (>300k entries), I needed to use a python script to randomly sample a subset of 2,500 rows of data, import the subset into Tableau, make my calculated fields, and then import the data to rawgraphs.io to make the parallel coordinate. <a href = "random.py">Click here to look at the script</a>
      </p>

    <!--  <h3>Discussion</h3>

      <p>
      Space to write.
      </p>

      <h3>Credit</h3>

      <p>
        Space to write.
      </p>-->
    </div>
  </section>

  <!-- separator between sections -->
  <hr class="container">

  <!-- footer -->
  <footer class="footer">
    <div class="content has-text-centered">
      <small>
        <a href="#top">
          <span class="fas fa-arrow-up"></span>
          <span>Back to Top</span>
        </a>
        <br/>
        <a href="/">CS 360/560 Data Visualization</a>
        &bullet;
        <a href="https://myusf.usfca.edu/arts-sciences/computer-science">Department of Computer Science</a>
        &bullet;
        <a href="https://www.usfca.edu/">University of San Francisco</a>
      </small>
    </div>
  </footer>
  <script type="text/javascript">


    //the event occurred
  setTimeout(function(){
    var viz=document.getElementsByTagName('iframe');
      //viz[0].addEventListener("load", alterSource);
      viz[0].src=viz[0].src.replace('//usf-cs360-spring2019.github.io','')
    //viz[1].addEventListener("load", alterSource);
  },400);
    function alterSource(event){console.log(event.target);
      event.target.removeEventListener("load", alterSource);
      event.target.src.replace('//usf-cs360-spring2019.github.io','')
    }
    </script>
<!-- end body and html -->
</body>
</html>
